<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="chrome=1">
    <title>Korean wordlist by acidsound</title>

    <link rel="stylesheet" href="stylesheets/styles.css">
    <link rel="stylesheet" href="stylesheets/pygment_trac.css">
    <script src="javascripts/scale.fix.js"></script>
		<meta name="Description" content="jsdo.it - share JavaScript, HTML5 and CSS -" />
		<meta name="Keywords"  content="JavaScript,HTML5,CSS" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <!--[if lt IE 9]>
    <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
  <script type="text/spacebars" name="main">
    <div class="wrapper">
      <header>
        <h1 class="header">Korean wordlist</h1>
        <p class="header">korean wordlist</p>

        <ul>
          <li class="download"><a class="buttons" href="https://github.com/acidsound/korean_wordlist/zipball/master">Download ZIP</a></li>
          <li class="download"><a class="buttons" href="https://github.com/acidsound/korean_wordlist/tarball/master">Download TAR</a></li>
          <li><a class="buttons github" href="https://github.com/acidsound/korean_wordlist">View On GitHub</a></li>
        </ul>

        <p class="header">This project is maintained by <a class="header name" href="https://github.com/acidsound">acidsound</a></p>


      </header>
      <section>
        <h3>
        	<a id="welcome-to-github-pages" class="anchor" href="#welcome-to-github-pages" aria-hidden="true"><span class="octicon octicon-link"></span></a>한글사전DB 검색
        </h3>
				<p>mongodb API를 사용하여 찾고싶은 단어를 검색합니다.</p>
			  <form>
			  <div class="input-group">
			    <input type="text" class="form-control" placeholder="Type Mongo query...">
			    <span class="input-group-btn">
			      <button class="btn btn-default" type="submit">Go!</button>
			    </span>
			  </div><!-- /input-group -->
			  </form>
			  <div class="container">
			    {{#each words}}
			    <hr/>
			    <div class="media">
			      <span>{{word}}</span>
			      <p>
			      {{{raw}}}
			      </p>
			    </div>
			    {{else}}
			    <div>
			      <span>검색결과가 없습니다.</span>
			      <p>* 검색예</p>
			      <div><a href="http://jsrun.it/spectrum/kordic?q={word:'치킨'}">{word:'치킨'}</a></div>
			      <div><a href="http://jsrun.it/spectrum/kordic?q={word:{$regex:'리$'}}">{word:{$regex:'리$'}}</a></div>
			      <div><a href="http://jsrun.it/spectrum/kordic?q={word:{$regex:'훤$'}}">{word:{$regex:'훤$'}}</a></div>
			      <div><a href="http://jsrun.it/spectrum/kordic?q={word:{$regex:'^개.*식$'}}">{word:{$regex:'^개.*식$'}}</a></div>
			    </div>
			    {{/each}}
			  </div>
			</section>
      <footer>
        <p><small>Hosted on <a href="http://pages.github.com">GitHub Pages</a> using the Dinky theme</small></p>
      </footer>
    </div>
    <!--[if !IE]><script>fixScale(document);</script><![endif]-->
		
  </script>
<script src="http://meteor.github.io/blaze/javascripts/blaze.js"></script>
	</head>
<body>
<script type="text/javascript">// Generated by CoffeeScript 1.8.0
(function() {
  this.words = new Blaze.Var([]);

  this.apiKey = "eq1poRtCI92CplL2Z56zGVMvDDUUxgqp";

  Template.main.rendered = function() {
    var query;
    query = location.search && location.search.split('?q=')[1];
    if (query != null) {
      $('input').val(decodeURIComponent(query));
      return $('form').submit();
    }
  };

  Template.main.events({
    'submit': function(e, tpl) {
      var query;
      e.preventDefault();
      query = tpl.find("input").value;
      if (query != null) {
        return $.getJSON("https://api.mongolab.com/api/1/databases/koreandict/collections/words?apiKey=" + apiKey + "&q=" + query, function(result) {
          return words.set(result);
        }).fail(function(error) {
          words.set([]);
          return console.log('fail');
        });
      }
    }
  });

  Template.main.helpers({
    words: function() {
      var word, _i, _len, _ref, _results;
      _ref = words.get();
      _results = [];
      for (_i = 0, _len = _ref.length; _i < _len; _i++) {
        word = _ref[_i];
        _results.push({
          word: word.word,
          raw: word.raw
        });
      }
      return _results;
    }
  });

}).call(this);
</script>
</body>
</html>
